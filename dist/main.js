(()=>{"use strict";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{q:()=>N,j4:()=>c,mD:()=>B,hE:()=>A,hC:()=>j});const t=document.querySelector(".page"),r=t.querySelector(".popup_type_photo"),o=t.querySelector(".popup_type_profile"),p=t.querySelector(".popup_type_big-picture");function n(e){e.classList.add("popup_opened")}function c(e){e.classList.remove("popup_opened")}t.addEventListener("keydown",(function(e){"Escape"===e.key&&(c(r),c(o),c(p))})),t.addEventListener("click",(function(e){e.target.classList.contains("popup_opened")&&(c(r),c(o),c(p))}));const u=document.querySelector(".page"),l=u.querySelector(".popup_type_photo"),i=(u.querySelector(".popup_type_profile"),u.querySelector(".popup_type_big-picture"));function s(e,t){const r=N.querySelector(".element").cloneNode(!0),o=r.querySelector(".element__image");r.querySelector(".element__text").textContent=e,r.querySelector(".element__image").src=t,o.addEventListener("click",(()=>{bigPicturePhoto.src=t,cardDescription.textContent=e,openPopup(i)})),r.querySelector(".element__like").addEventListener("click",(function(e){e.target.classList.toggle("element__like_type_active")}));const p=r.querySelector(".element__delete");return p.addEventListener("click",(function(){p.closest(".element").remove()})),r}function a(e,t){!function(e){return Array.from(e).some((e=>!e.validity.valid))}(e)?t.classList.remove("popup__button-save_inactive"):t.classList.add("popup__button-save_inactive")}t.querySelector(".popup");const _=t.querySelector(".popup_type_profile"),d=t.querySelector(".popup_type_avatar"),y=t.querySelector(".popup_type_photo"),m=t.querySelector(".popup_type_big-picture"),v=t.querySelector(".profile__edit-button"),S=t.querySelector(".popup__button-close_type_profile"),f=t.querySelector(".popup__button-close_type_avatar"),q=t.querySelector(".popup__form_type_profile"),k=t.querySelector(".profile__add-button"),b=t.querySelector(".popup__button-close_type_photo"),L=t.querySelector(".popup__form_type_photo"),E=t.querySelector(".profile__avatar"),g=document.querySelector(".popup__button-save_type_photo"),h=t.querySelector(".profile__info"),x=document.querySelector(".popup__input_type_name"),C=document.querySelector(".popup__input_type_status"),j=document.querySelector(".popup__input_type_picName"),A=document.querySelector(".popup__input_type_picHref"),D=document.querySelectorAll(".popup__input"),P=h.querySelector(".profile__title"),O=h.querySelector(".profile__subtitle"),w=t.querySelector(".elements"),B=(document.querySelector("#card-template"),t.querySelector(".elements")),N=document.querySelector("#card-template").content,$=t.querySelector(".popup__button-close_type_big-picture");var z;m.querySelector(".popup__image"),m.querySelector(".popup__description"),k.addEventListener("click",(()=>{n(y),a(D,g)})),E.addEventListener("click",(()=>n(d))),v.addEventListener("click",(()=>{x.value=P.textContent,C.value=O.textContent,n(_)})),S.addEventListener("click",(()=>c(_))),b.addEventListener("click",(()=>c(y))),f.addEventListener("click",(()=>c(d))),$.addEventListener("click",(()=>{c(m)})),L.addEventListener("submit",(function(e){e.preventDefault();const t=s(j.value,A.value);B.prepend(t),j.value="",A.value="",c(l)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((e=>{const t=s(e.name,e.link);w.append(t)})),q.addEventListener("submit",(function(e){e.preventDefault(),function(e,t){const r=h.querySelector(".profile__title"),o=h.querySelector(".profile__subtitle");r.textContent=e,o.textContent=t}(x.value,C.value),x.value=P.textContent,C.value=O.textContent,c(_)})),z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},Array.from(document.querySelectorAll(z.formSelector)).forEach((e=>{e.addEventListener("submit",(function(e){e.preventDefault()})),((e,t)=>{const r=Array.from(e.querySelectorAll(t.inputSelector)),o=e.querySelector(t.submitButtonSelector);a(r,o),r.forEach((p=>{p.addEventListener("input",(function(){((e,t,r)=>{t.validity.valid?((e,t,r)=>{const o=e.querySelector(`.${t.id}-error`);t.classList.remove(r.inputErrorClass),o.classList.remove(r.errorClass),o.textContent=""})(e,t,r):((e,t,r,o)=>{const p=e.querySelector(`.${t.id}-error`);t.classList.add(o.inputErrorClass),p.textContent=r,p.classList.add(o.errorClass)})(e,t,t.validationMessage,r)})(e,p,t),a(r,o)}))}))})(e,z)}))})();